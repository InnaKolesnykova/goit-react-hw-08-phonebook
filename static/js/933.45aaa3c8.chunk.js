"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[933],{933:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(43);const s="ContactList_contBox__K02uv",l="ContactList_none__pFkTZ",r="ContactList_heading__BaO5+",c="ContactList_list__2thwa";var i=n(3),o=n(35);const u="ContactElem_item__N41iJ",d="ContactElem_bin__+Xxnc",m="ContactElem_btn__VJKKY";var h;const _=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(null,arguments)}function v(e,t){let{title:n,titleId:s}=e,l=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,_);return a.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 32 32",ref:t,"aria-labelledby":s},l),void 0===n?a.createElement("title",{id:s},"bin"):n?a.createElement("title",{id:s},n):null,h||(h=a.createElement("path",{d:"M6 32h20l2-22h-24zM20 4v-4h-8v4h-10v6l2-2h24l2 2v-6h-10zM18 4h-4v-2h4v2z"})))}const x=a.forwardRef(v);n.p;var f=n(191),p=n(579);const j=e=>{let{contact:t}=e;const n=(0,i.wA)(),s=(0,a.useCallback)(()=>{n((0,o.MO)(t.id))},[t.id,n]);return(0,a.useEffect)(()=>{n((0,f.HW)())},[n]),(0,p.jsxs)("li",{className:u,children:["\u2022  ",t.name,": ",t.number,(0,p.jsx)("button",{className:m,onClick:s,children:(0,p.jsx)(x,{className:d})})]},t.id)},g=e=>e.filter;var w=n(290);const y=()=>{const e=(0,i.wA)(),t=(0,i.d4)(o.Tv),n=(0,i.d4)(g),[u,d]=(0,a.useState)([]),m=(0,i.d4)(e=>e.contacts.isLoading);return(0,a.useEffect)(()=>{e((0,o.oe)())},[e]),(0,a.useEffect)(()=>{const e=t.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));d(e)},[t,n]),(0,p.jsx)("div",{className:s,children:u.length>0?(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{className:r,children:"Your contacts"}),(0,p.jsx)("ul",{className:c,children:u.map(e=>{let{id:t,name:n,number:a}=e;return(0,p.jsx)(j,{contact:{id:t,name:n,number:a}},t)})})]}):m?(0,p.jsx)(w.a,{}):(0,p.jsx)("p",{className:l,children:"You have no contacts saved yet. Add some to view contact list."})})},C={btn:"Form_btn__RyDwW",label1:"Form_label1__uULak",input:"Form_input__aXYkY"},N=()=>{const e=(0,i.wA)(),t=(0,i.d4)(e=>e.contacts.items),[n,s]=(0,a.useState)(""),[l,r]=(0,a.useState)(""),[c,u]=(0,a.useState)(null);return(0,p.jsxs)("form",{className:C.formBox,onSubmit:async a=>{if(a.preventDefault(),""!==n.trim()&&""!==l.trim())if(t.some(e=>e.number===l||e.name===n))alert("Contact already exists!");else try{await e((0,o.IP)({name:n,number:l})),s(""),r("")}catch(c){c.message.includes("Error code 14")?u("An error occurred while adding the contact. Please try again later."):u(c.message)}},children:[(0,p.jsx)("label",{className:C.label1,children:(0,p.jsx)("input",{className:C.input,placeholder:"Name",type:"text",name:"name",value:n,onChange:e=>{s(e.target.value)},required:!0})}),(0,p.jsx)("label",{className:C.label2,children:(0,p.jsx)("input",{className:C.input,placeholder:"Phone number",type:"tel",name:"number",value:l,onChange:e=>{r(e.target.value)},required:!0})}),c&&(0,p.jsx)("div",{style:{color:"ed"},children:c}),(0,p.jsx)("button",{className:C.btn,type:"submit",children:"Add Contact"})]})},E="Search_searchBox__1f9bT";var O=n(877);const k=()=>{const e=(0,i.wA)(),t=(0,i.d4)(g);return(0,p.jsx)("div",{className:E,children:(0,p.jsxs)("label",{children:["Find contact by name:",(0,p.jsx)("input",{type:"text",value:t,onChange:t=>{e((0,O.C)(t.target.value))}})]})})},L="ContactPage_box__oy9W6",P="ContactPage_h1__FLLx8",S=()=>(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{className:P,children:"Contacts"}),(0,p.jsxs)("div",{className:L,children:[(0,p.jsx)(N,{}),(0,p.jsx)(k,{})]}),(0,p.jsx)(y,{})]})}}]);
//# sourceMappingURL=933.45aaa3c8.chunk.js.map